"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4367],{6262:(e,i)=>{i.A=(e,i)=>{const s=e.__vccOpts||e;for(const[e,a]of i)s[e]=a;return s}},7009:(e,i,s)=>{s.r(i),s.d(i,{comp:()=>n,data:()=>t});var a=s(641);const l={},n=(0,s(6262).A)(l,[["render",function(e,i){return(0,a.uX)(),(0,a.CE)("div",null,i[0]||(i[0]=[(0,a.Fv)('<h1 id="架构搭建相关" tabindex="-1"><a class="header-anchor" href="#架构搭建相关"><span>架构搭建相关</span></a></h1><h3 id="微服务划分" tabindex="-1"><a class="header-anchor" href="#微服务划分"><span>微服务划分</span></a></h3><ol><li>user center 用户中心(用户关系)</li><li>Distributed File System 文件服务中心</li><li>Activity 活动中心</li><li>AD 广告中心</li><li>Wiki 百科中心</li><li>Moment 热帖话题</li><li>Search Center 搜索中心</li><li>IM Logic 通讯消息中心</li><li>CMS 后台管理系统</li><li>User Logic\\Register 用户注册登陆中心</li></ol><h3 id="具体实施" tabindex="-1"><a class="header-anchor" href="#具体实施"><span>具体实施</span></a></h3><ol><li>Gitlab搭建（Gitlab-ci编写CI\\CD搭建）</li><li>k8s搭建 （开发测试正式集群搭建、docker hub私服、helm私服构建）</li><li>Golang微服务设计（git仓库依赖划分、微服务划分）</li></ol><h3 id="git仓库划分" tabindex="-1"><a class="header-anchor" href="#git仓库划分"><span>git仓库划分</span></a></h3><ol><li>proto文件必须独立git仓库，生成的RPC接口文件被api的Client和Server依赖并且两个可以同时并行开发</li><li>utils无业务依赖的工具库</li><li>config定义配置结构和配置注入形式(直接toml文件还是nacos配置读取)</li><li>统一常用的驱动包比如redis\\kafka\\MySQL\\Elastic以及一些默认配置</li><li>分布式事务和分布式锁实现的一些共用的比如缓存key和缓存时长可以独立仓库出来</li><li>http server&amp;&amp;rpc server驱动（注入了一些链路追踪驱动）可以独立仓库</li><li>logger</li><li>error_code</li></ol><h3 id="领域驱动模型" tabindex="-1"><a class="header-anchor" href="#领域驱动模型"><span>领域驱动模型</span></a></h3><blockquote><p>单体架构太复杂，即使已经拆分为多个模块但是还是会部署为单体应用，分而治之，就有了微服务</p></blockquote><h3 id="soa" tabindex="-1"><a class="header-anchor" href="#soa"><span>SOA</span></a></h3><h3 id="微服务定义" tabindex="-1"><a class="header-anchor" href="#微服务定义"><span>微服务定义</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>原子</span></span>\n<span class="line"><span>独立</span></span>\n<span class="line"><span>去中心化 (数据、治理、技术)</span></span>\n<span class="line"><span>隔离</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>复杂度高</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ddd" tabindex="-1"><a class="header-anchor" href="#ddd"><span>DDD</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>业务维度分离</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="微服务架构-microservice-划分服务边界依据是啥" tabindex="-1"><a class="header-anchor" href="#微服务架构-microservice-划分服务边界依据是啥"><span>微服务架构 Microservice 划分服务边界依据是啥</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>业务</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="ddd-垂直分层" tabindex="-1"><a class="header-anchor" href="#ddd-垂直分层"><span>DDD 垂直分层</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>view 展现层     DataTransferObject</span></span>\n<span class="line"><span>service 服务层  DomainObject</span></span>\n<span class="line"><span>po 数据持久化层  PersistenceObject</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',18)]))}]]),t=JSON.parse('{"path":"/posts/go/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84.html","title":"微服务架构","lang":"zh-CN","frontmatter":{"title":"微服务架构","category":["go"],"tag":["go"],"description":"架构搭建相关 微服务划分 user center 用户中心(用户关系) Distributed File System 文件服务中心 Activity 活动中心 AD 广告中心 Wiki 百科中心 Moment 热帖话题 Search Center 搜索中心 IM Logic 通讯消息中心 CMS 后台管理系统 User Logic\\\\Register ...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://weiqiangxu.github.io/posts/go/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84.html"}],["meta",{"property":"og:site_name","content":"笔记本"}],["meta",{"property":"og:title","content":"微服务架构"}],["meta",{"property":"og:description","content":"架构搭建相关 微服务划分 user center 用户中心(用户关系) Distributed File System 文件服务中心 Activity 活动中心 AD 广告中心 Wiki 百科中心 Moment 热帖话题 Search Center 搜索中心 IM Logic 通讯消息中心 CMS 后台管理系统 User Logic\\\\Register ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"go"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"微服务架构\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuweiqiang\\",\\"url\\":\\"https://weiqiangxu.github.io\\"}]}"]]},"headers":[{"level":3,"title":"微服务划分","slug":"微服务划分","link":"#微服务划分","children":[]},{"level":3,"title":"具体实施","slug":"具体实施","link":"#具体实施","children":[]},{"level":3,"title":"git仓库划分","slug":"git仓库划分","link":"#git仓库划分","children":[]},{"level":3,"title":"领域驱动模型","slug":"领域驱动模型","link":"#领域驱动模型","children":[]},{"level":3,"title":"SOA","slug":"soa","link":"#soa","children":[]},{"level":3,"title":"微服务定义","slug":"微服务定义","link":"#微服务定义","children":[]},{"level":3,"title":"DDD","slug":"ddd","link":"#ddd","children":[]},{"level":3,"title":"微服务架构 Microservice 划分服务边界依据是啥","slug":"微服务架构-microservice-划分服务边界依据是啥","link":"#微服务架构-microservice-划分服务边界依据是啥","children":[]},{"level":3,"title":"DDD 垂直分层","slug":"ddd-垂直分层","link":"#ddd-垂直分层","children":[]}],"readingTime":{"minutes":1.5,"words":450},"filePathRelative":"posts/go/微服务架构.md","excerpt":"\\n<h3>微服务划分</h3>\\n<ol>\\n<li>user center 用户中心(用户关系)</li>\\n<li>Distributed File System 文件服务中心</li>\\n<li>Activity 活动中心</li>\\n<li>AD 广告中心</li>\\n<li>Wiki 百科中心</li>\\n<li>Moment 热帖话题</li>\\n<li>Search Center 搜索中心</li>\\n<li>IM Logic 通讯消息中心</li>\\n<li>CMS 后台管理系统</li>\\n<li>User Logic\\\\Register 用户注册登陆中心</li>\\n</ol>\\n<h3>具体实施</h3>","autoDesc":true}')}}]);