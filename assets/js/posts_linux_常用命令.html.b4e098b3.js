"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5822],{6262:(s,i)=>{i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,n]of i)a[s]=n;return a}},5821:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>h,data:()=>k});var n=a(641);const l={},h=(0,a(6262).A)(l,[["render",function(s,i){return(0,n.uX)(),(0,n.CE)("div",null,i[0]||(i[0]=[(0,n.Fv)('<h1 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h1><h3 id="_1-端口的tcp连接" tabindex="-1"><a class="header-anchor" href="#_1-端口的tcp连接"><span>1.端口的TCP连接</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 可以看到端口的访问情况</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> netstat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -an</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;:19201&#39;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :::19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                :::</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                    LISTEN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 10.201.62.65:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      10.201.62.63:42062</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      TIME_WAIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 10.201.62.65:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      10.201.62.63:42036</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      TIME_WAIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:51340</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         127.0.0.1:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         CLOSE_WAIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:51344</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         127.0.0.1:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         CLOSE_WAIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:51350</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         127.0.0.1:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         CLOSE_WAIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 10.201.62.65:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      10.201.62.63:42082</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      TIME_WAIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:51342</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         127.0.0.1:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         CLOSE_WAIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:51346</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         127.0.0.1:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         CLOSE_WAIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:51348</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         127.0.0.1:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         CLOSE_WAIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tcp6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:51356</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         127.0.0.1:19201</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         CLOSE_WAIT</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-服务器的文件打开数限制" tabindex="-1"><a class="header-anchor" href="#_2-服务器的文件打开数限制"><span>2.服务器的文件打开数限制</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ulimit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">core</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          (blocks, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">-c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 0</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">               (blocks, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">-f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) unlimited</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 最大支持打开文件连接数 1024</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> files</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                      (-n) 1024</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> locks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                      (-x) unlimited</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置当前用户可以打开最大的文件连接数是10240</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ulimit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10240</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看当前用户打开的文件连接数量</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1440是当前打开的文件连接数量</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /proc/sys/fs/file-nr</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1440</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       808255</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /proc/cpuinfo</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /proc/meminfo</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /proc/version</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /proc/fs</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lockd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  nfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  nfsd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  xfs</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lsof</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $PID</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># FD文件描述符 8w中8是文件描述符编号. w表示只写 r表示只读 u是读写</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 可以查看进程的打开的文件连接</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lsof</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20329</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> REG</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">COMMAND</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   PID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> USER</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    FD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      TYPE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             DEVICE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      SIZE/OFF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  NODE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      NAME</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">java</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    20329</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    8w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      REG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             253,17</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      3531</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      338575098</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /apps/engines/engine_19201/logs/2024-10-15/warn-log.log</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">java</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    20329</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    9w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      REG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             253,17</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   5703411</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      338575103</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /apps/engines/engine_19201/logs/2024-10-15/info-log.log</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-检查内存使用情况" tabindex="-1"><a class="header-anchor" href="#_3-检查内存使用情况"><span>3.检查内存使用情况</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 输出之中:RES表示物理内存、SHR进程共享内存、VIRT进程虚拟内存</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> top</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 内存转MB或者GB</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">e</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 从大到小排序</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">M</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 顶部内存占比按进度条展示</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">m</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 展示command进程的命令详细</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">c</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看剩余运行内存</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> free</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-检查磁盘的使用情况" tabindex="-1"><a class="header-anchor" href="#_4-检查磁盘的使用情况"><span>4.检查磁盘的使用情况</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 磁盘(关注对应的挂载点的磁盘剩余)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> df</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Filesystem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      Size</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Used</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Avail</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Use%</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Mounted</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> on</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/dev/vda2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        30G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  2.4G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   28G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   8%</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">devtmpfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        3.9G</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  3.9G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   0%</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tmpfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           3.9G</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  3.9G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   0%</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/shm</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tmpfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           3.9G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  385M</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  3.6G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  10%</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /run</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tmpfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           3.9G</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  3.9G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   0%</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /sys/fs/cgroup</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/dev/vdb1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       200G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  140G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   61G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  70%</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /apps</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tmpfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           799M</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  799M</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   0%</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /run/user/0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',9)]))}]]),k=JSON.parse('{"path":"/posts/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"常用命令","lang":"zh-CN","frontmatter":{"title":"常用命令","icon":"object-group","order":2,"category":["linux"],"tag":["Linux"],"description":"常用命令 1.端口的TCP连接 2.服务器的文件打开数限制 3.检查内存使用情况 4.检查磁盘的使用情况","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://weiqiangxu.github.io/posts/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html"}],["meta",{"property":"og:site_name","content":"QuickStart程序员"}],["meta",{"property":"og:title","content":"常用命令"}],["meta",{"property":"og:description","content":"常用命令 1.端口的TCP连接 2.服务器的文件打开数限制 3.检查内存使用情况 4.检查磁盘的使用情况"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"Linux"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"常用命令\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuweiqiang\\",\\"url\\":\\"https://weiqiangxu.github.io\\"}]}"]]},"headers":[{"level":3,"title":"1.端口的TCP连接","slug":"_1-端口的tcp连接","link":"#_1-端口的tcp连接","children":[]},{"level":3,"title":"2.服务器的文件打开数限制","slug":"_2-服务器的文件打开数限制","link":"#_2-服务器的文件打开数限制","children":[]},{"level":3,"title":"3.检查内存使用情况","slug":"_3-检查内存使用情况","link":"#_3-检查内存使用情况","children":[]},{"level":3,"title":"4.检查磁盘的使用情况","slug":"_4-检查磁盘的使用情况","link":"#_4-检查磁盘的使用情况","children":[]}],"readingTime":{"minutes":1.65,"words":494},"filePathRelative":"posts/linux/常用命令.md","excerpt":"\\n<h3>1.端口的TCP连接</h3>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 可以看到端口的访问情况</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">$</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> netstat</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -an</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> | </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">grep</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \':19201\'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       0</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> :::19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">                :::</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">*</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">                    LISTEN</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">     </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       0</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 10.201.62.65:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">      10.201.62.63:42062</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">      TIME_WAIT</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       0</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 10.201.62.65:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">      10.201.62.63:42036</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">      TIME_WAIT</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       1</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 127.0.0.1:51340</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         127.0.0.1:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         CLOSE_WAIT</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       1</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 127.0.0.1:51344</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         127.0.0.1:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         CLOSE_WAIT</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       1</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 127.0.0.1:51350</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         127.0.0.1:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         CLOSE_WAIT</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       0</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 10.201.62.65:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">      10.201.62.63:42082</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">      TIME_WAIT</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       1</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 127.0.0.1:51342</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         127.0.0.1:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         CLOSE_WAIT</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       1</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 127.0.0.1:51346</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         127.0.0.1:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         CLOSE_WAIT</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       1</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 127.0.0.1:51348</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         127.0.0.1:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         CLOSE_WAIT</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tcp6</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">       1</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">      0</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 127.0.0.1:51356</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         127.0.0.1:19201</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">         CLOSE_WAIT</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);