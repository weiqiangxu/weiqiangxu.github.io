"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7121],{6262:(s,e)=>{e.A=(s,e)=>{const n=s.__vccOpts||s;for(const[s,a]of e)n[s]=a;return n}},4397:(s,e,n)=>{n.r(e),n.d(e,{comp:()=>l,data:()=>d});var a=n(641);const i={},l=(0,n(6262).A)(i,[["render",function(s,e){return(0,a.uX)(),(0,a.CE)("div",null,e[0]||(e[0]=[(0,a.Fv)('<h1 id="干货满满的-go-modules" tabindex="-1"><a class="header-anchor" href="#干货满满的-go-modules"><span>干货满满的 Go Modules</span></a></h1><p><a href="https://www.jishuchi.com/read/gin-practice/3794#8c7ywi" target="_blank" rel="noopener noreferrer">go-modules 干货满满的 Go Modules 和 goproxy.cn</a><a href="https://golangbyexample.com/go-mod-sum-module/" target="_blank" rel="noopener noreferrer">理解Go中的go.sum和go.mod文件</a><a href="https://www.jishuchi.com/read/gin-practice/3795" target="_blank" rel="noopener noreferrer">终极入门</a></p><h3 id="关键词" tabindex="-1"><a class="header-anchor" href="#关键词"><span>关键词</span></a></h3><blockquote><p>Russ Cox 还是 Go 现在的掌舵人（大家应该知道之前 Go 的掌舵人是 Rob Pike，离开了美国，他岁数也挺大的了，所以也正在逐渐交权）</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Go modules</span></span>\n<span class="line"><span>GOPATH</span></span>\n<span class="line"><span>1.13</span></span>\n<span class="line"><span>tag支持commit id</span></span>\n<span class="line"><span>间接依赖项</span></span>\n<span class="line"><span>直接依赖项</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="go-mod文件结构-5个动词" tabindex="-1"><a class="header-anchor" href="#go-mod文件结构-5个动词"><span>go.mod文件结构 5个动词</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>module</span></span>\n<span class="line"><span>go</span></span>\n<span class="line"><span>require</span></span>\n<span class="line"><span>exclude</span></span>\n<span class="line"><span>replace</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>go.mod文件只记录直接依赖 go.sum该文件列出了所需的直接和间接依赖项的校验和以及版本</p></blockquote><h3 id="为什么需要go-sum文件" tabindex="-1"><a class="header-anchor" href="#为什么需要go-sum文件"><span>为什么需要go.sum文件</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>go.sum文件中的校验和用于验证每个直接和间接依赖项的校验和，以确认它们都没有被修改</span></span>\n<span class="line"><span>间接依赖项在这里会被罗列出来，一堆版本的hash值</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>go env -w</p></blockquote><h3 id="配置项" tabindex="-1"><a class="header-anchor" href="#配置项"><span>配置项</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>GO111MODULE (Go modules 的开关)  auto\\on\\off</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>GOPROXY（设置 Go 模块代理）</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>GOSUMDB（Go Checksum Database）</span></span>\n<span class="line"><span>Go 在拉取模块版本时(无论是从源站拉取还是通过 Go module proxy 拉取)保证拉取到的模块版本数据未经篡改</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="项目依赖私有模块" tabindex="-1"><a class="header-anchor" href="#项目依赖私有模块"><span>项目依赖私有模块</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>GONOPROXY</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>GONOSUMDB</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>GOPRIVATE</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>英文逗号 “,” 分割的模块路径前缀</p></blockquote><blockquote><p>GOPRIVATE 较为特殊，它的值将作为 GONOPROXY 和 GONOSUMDB 的默认值，所以建议的最佳姿势是只是用 GOPRIVATE</p></blockquote><h3 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>go get golang.org/x/text@latest</span></span>\n<span class="line"><span>go get golang.org/x/text@v0.3.2</span></span>\n<span class="line"><span>go mod tidy</span></span>\n<span class="line"><span>go mod edit</span></span>\n<span class="line"><span>go env -w</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>git config --global url.&quot;git@test.com:&quot;.insteadOf &quot;https://github.com/&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="涉及环境变量" tabindex="-1"><a class="header-anchor" href="#涉及环境变量"><span>涉及环境变量</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ go env</span></span>\n<span class="line"><span>GO111MODULE=&quot;auto&quot;</span></span>\n<span class="line"><span>GOPROXY=&quot;https://proxy.golang.org,direct&quot;</span></span>\n<span class="line"><span>GONOPROXY=&quot;&quot;</span></span>\n<span class="line"><span>GOSUMDB=&quot;sum.golang.org&quot;</span></span>\n<span class="line"><span>GONOSUMDB=&quot;&quot;</span></span>\n<span class="line"><span>GOPRIVATE=&quot;&quot;</span></span>\n<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h3><blockquote><p>GOPATH</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>bin：存储所编译生成的二进制文件。</span></span>\n<span class="line"><span>pkg：存储预编译的目标文件，以加快程序的后续编译速度。</span></span>\n<span class="line"><span>src：存储所有.go文件或源代码</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>go</span></span>\n<span class="line"><span>├── bin</span></span>\n<span class="line"><span>├── pkg</span></span>\n<span class="line"><span>└── src</span></span>\n<span class="line"><span>    ├── github.com</span></span>\n<span class="line"><span>    ├── golang.org</span></span>\n<span class="line"><span>    ├── google.golang.org</span></span>\n<span class="line"><span>    ├── gopkg.in</span></span>\n<span class="line"><span>    ....</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>$GOPATH/pkg/mod</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mod</span></span>\n<span class="line"><span>├── cache</span></span>\n<span class="line"><span>├── github.com</span></span>\n<span class="line"><span>├── golang.org</span></span>\n<span class="line"><span>├── google.golang.org</span></span>\n<span class="line"><span>├── gopkg.in</span></span>\n<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="参考文档" tabindex="-1"><a class="header-anchor" href="#参考文档"><span>参考文档</span></a></h1><ul><li><a href="https://www.jishuchi.com/books/gin-practice" target="_blank" rel="noopener noreferrer">Gin实践</a></li></ul>',29)]))}]]),d=JSON.parse('{"path":"/posts/go/%E5%B9%B2%E8%B4%A7%E6%BB%A1%E6%BB%A1GoModules.html","title":"干货满满的GoModules","lang":"zh-CN","frontmatter":{"title":"干货满满的GoModules","category":["go"],"tag":["go"],"description":"干货满满的 Go Modules go-modules 干货满满的 Go Modules 和 goproxy.cn 理解Go中的go.sum和go.mod文件 终极入门 关键词 Russ Cox 还是 Go 现在的掌舵人（大家应该知道之前 Go 的掌舵人是 Rob Pike，离开了美国，他岁数也挺大的了，所以也正在逐渐交权） go.mod文件结构 5个...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://weiqiangxu.github.io/posts/go/%E5%B9%B2%E8%B4%A7%E6%BB%A1%E6%BB%A1GoModules.html"}],["meta",{"property":"og:site_name","content":"QuickStart程序员"}],["meta",{"property":"og:title","content":"干货满满的GoModules"}],["meta",{"property":"og:description","content":"干货满满的 Go Modules go-modules 干货满满的 Go Modules 和 goproxy.cn 理解Go中的go.sum和go.mod文件 终极入门 关键词 Russ Cox 还是 Go 现在的掌舵人（大家应该知道之前 Go 的掌舵人是 Rob Pike，离开了美国，他岁数也挺大的了，所以也正在逐渐交权） go.mod文件结构 5个..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"go"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"干货满满的GoModules\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuweiqiang\\",\\"url\\":\\"https://weiqiangxu.github.io\\"}]}"]]},"headers":[{"level":3,"title":"关键词","slug":"关键词","link":"#关键词","children":[]},{"level":3,"title":"go.mod文件结构 5个动词","slug":"go-mod文件结构-5个动词","link":"#go-mod文件结构-5个动词","children":[]},{"level":3,"title":"为什么需要go.sum文件","slug":"为什么需要go-sum文件","link":"#为什么需要go-sum文件","children":[]},{"level":3,"title":"配置项","slug":"配置项","link":"#配置项","children":[]},{"level":3,"title":"项目依赖私有模块","slug":"项目依赖私有模块","link":"#项目依赖私有模块","children":[]},{"level":3,"title":"常用命令","slug":"常用命令","link":"#常用命令","children":[]},{"level":3,"title":"涉及环境变量","slug":"涉及环境变量","link":"#涉及环境变量","children":[]},{"level":3,"title":"目录","slug":"目录","link":"#目录","children":[]}],"readingTime":{"minutes":1.64,"words":493},"filePathRelative":"posts/go/干货满满GoModules.md","excerpt":"\\n<p><a href=\\"https://www.jishuchi.com/read/gin-practice/3794#8c7ywi\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">go-modules 干货满满的 Go Modules 和 goproxy.cn</a>\\n<a href=\\"https://golangbyexample.com/go-mod-sum-module/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">理解Go中的go.sum和go.mod文件</a>\\n<a href=\\"https://www.jishuchi.com/read/gin-practice/3795\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">终极入门</a></p>","autoDesc":true}')}}]);