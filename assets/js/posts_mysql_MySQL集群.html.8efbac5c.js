"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4171],{6262:(s,n)=>{n.A=(s,n)=>{const a=s.__vccOpts||s;for(const[s,e]of n)a[s]=e;return a}},2885:(s,n,a)=>{a.r(n),a.d(n,{comp:()=>l,data:()=>p});var e=a(641);const i={},l=(0,a(6262).A)(i,[["render",function(s,n){return(0,e.uX)(),(0,e.CE)("div",null,n[0]||(n[0]=[(0,e.Fv)('<h1 id="mysql集群方案" tabindex="-1"><a class="header-anchor" href="#mysql集群方案"><span>MySQL集群方案</span></a></h1><ol><li><p>一主多从，主库更新和写入，从库只负责读。 <a href="https://blog.51cto.com/u_15127571/2715035" target="_blank" rel="noopener noreferrer">博客</a></p></li><li><p>官方推荐 Docker Compose 一键搭建一主多从 <a href="https://registry.hub.docker.com/r/bitnami/mysql" target="_blank" rel="noopener noreferrer">bitnami/mysql</a></p></li><li><p>kubernetes集群搭建MySQL集群</p></li></ol><h1 id="源地址" tabindex="-1"><a class="header-anchor" href="#源地址"><span>源地址</span></a></h1><p>https://www.jianshu.com/p/58ad9584a4a9</p><p>https://www.yuque.com/fairy-era/yg511q/od4gy0</p><h3 id="_1-mysql-rc-yaml" tabindex="-1"><a class="header-anchor" href="#_1-mysql-rc-yaml"><span>1. mysql-rc.yaml</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>apiVersion: v1</span></span>\n<span class="line"><span>kind: ReplicationController</span></span>\n<span class="line"><span>metadata:</span></span>\n<span class="line"><span>  name: mysql-rc</span></span>\n<span class="line"><span>  labels:</span></span>\n<span class="line"><span>    name: mysql-rc</span></span>\n<span class="line"><span>spec:</span></span>\n<span class="line"><span>  replicas: 1</span></span>\n<span class="line"><span>  selector:</span></span>\n<span class="line"><span>    name: mysql-pod</span></span>\n<span class="line"><span>  template:</span></span>\n<span class="line"><span>    metadata:</span></span>\n<span class="line"><span>      labels:</span></span>\n<span class="line"><span>        name: mysql-pod</span></span>\n<span class="line"><span>    spec:</span></span>\n<span class="line"><span>      containers:</span></span>\n<span class="line"><span>      - name: mysql</span></span>\n<span class="line"><span>        image: mysql</span></span>\n<span class="line"><span>        imagePullPolicy: IfNotPresent</span></span>\n<span class="line"><span>        ports:</span></span>\n<span class="line"><span>        - containerPort: 3306</span></span>\n<span class="line"><span>        env:</span></span>\n<span class="line"><span>        - name: MYSQL_ROOT_PASSWORD</span></span>\n<span class="line"><span>          value: &quot;mysql&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-mysql-svc-yaml" tabindex="-1"><a class="header-anchor" href="#_2-mysql-svc-yaml"><span>2. mysql-svc.yaml</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>apiVersion: v1</span></span>\n<span class="line"><span>kind: Service</span></span>\n<span class="line"><span>metadata:</span></span>\n<span class="line"><span>  name: mysql-svc</span></span>\n<span class="line"><span>  labels:</span></span>\n<span class="line"><span>    name: mysql-svc</span></span>\n<span class="line"><span>spec:</span></span>\n<span class="line"><span>  type: NodePort</span></span>\n<span class="line"><span>  ports:</span></span>\n<span class="line"><span>  - port: 3306</span></span>\n<span class="line"><span>    protocol: TCP</span></span>\n<span class="line"><span>    targetPort: 3306</span></span>\n<span class="line"><span>    name: http</span></span>\n<span class="line"><span>    nodePort: 32306</span></span>\n<span class="line"><span>  selector:</span></span>\n<span class="line"><span>    name: mysql-pod</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-创建" tabindex="-1"><a class="header-anchor" href="#_3-创建"><span>3. 创建</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>kubectl create -f mysql-rc.yaml</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>kubectl create -f mysql-svc.yaml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-查看状态" tabindex="-1"><a class="header-anchor" href="#_4-查看状态"><span>4. 查看状态</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> kubectl get pod -o wide</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="参考博客" tabindex="-1"><a class="header-anchor" href="#参考博客"><span>参考博客</span></a></h1><p>https://zhuanlan.zhihu.com/p/420110247</p>',15)]))}]]),p=JSON.parse('{"path":"/posts/mysql/MySQL%E9%9B%86%E7%BE%A4.html","title":"MySQL集群方案","lang":"zh-CN","frontmatter":{"hide":true,"description":"MySQL集群方案 一主多从，主库更新和写入，从库只负责读。 博客 官方推荐 Docker Compose 一键搭建一主多从 bitnami/mysql kubernetes集群搭建MySQL集群 源地址 https://www.jianshu.com/p/58ad9584a4a9 https://www.yuque.com/fairy-era/yg5...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://weiqiangxu.github.io/posts/mysql/MySQL%E9%9B%86%E7%BE%A4.html"}],["meta",{"property":"og:site_name","content":"QuickStart程序员"}],["meta",{"property":"og:title","content":"MySQL集群方案"}],["meta",{"property":"og:description","content":"MySQL集群方案 一主多从，主库更新和写入，从库只负责读。 博客 官方推荐 Docker Compose 一键搭建一主多从 bitnami/mysql kubernetes集群搭建MySQL集群 源地址 https://www.jianshu.com/p/58ad9584a4a9 https://www.yuque.com/fairy-era/yg5..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MySQL集群方案\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuweiqiang\\",\\"url\\":\\"https://weiqiangxu.github.io\\"}]}"]]},"headers":[{"level":3,"title":"1. mysql-rc.yaml","slug":"_1-mysql-rc-yaml","link":"#_1-mysql-rc-yaml","children":[]},{"level":3,"title":"2. mysql-svc.yaml","slug":"_2-mysql-svc-yaml","link":"#_2-mysql-svc-yaml","children":[]},{"level":3,"title":"3. 创建","slug":"_3-创建","link":"#_3-创建","children":[]},{"level":3,"title":"4. 查看状态","slug":"_4-查看状态","link":"#_4-查看状态","children":[]}],"readingTime":{"minutes":0.57,"words":170},"filePathRelative":"posts/mysql/MySQL集群.md","excerpt":"\\n<ol>\\n<li>\\n<p>一主多从，主库更新和写入，从库只负责读。 <a href=\\"https://blog.51cto.com/u_15127571/2715035\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">博客</a></p>\\n</li>\\n<li>\\n<p>官方推荐 Docker Compose 一键搭建一主多从 <a href=\\"https://registry.hub.docker.com/r/bitnami/mysql\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">bitnami/mysql</a></p>\\n</li>\\n<li>\\n<p>kubernetes集群搭建MySQL集群</p>\\n</li>\\n</ol>","autoDesc":true}')}}]);