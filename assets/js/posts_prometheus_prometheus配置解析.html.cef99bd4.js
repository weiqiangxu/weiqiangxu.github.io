"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4307],{6262:(s,n)=>{n.A=(s,n)=>{const a=s.__vccOpts||s;for(const[s,e]of n)a[s]=e;return a}},3844:(s,n,a)=>{a.r(n),a.d(n,{comp:()=>l,data:()=>p});var e=a(641);const i={},l=(0,a(6262).A)(i,[["render",function(s,n){return(0,e.uX)(),(0,e.CE)("div",null,n[0]||(n[0]=[(0,e.Fv)('<h3 id="一、默认配置" tabindex="-1"><a class="header-anchor" href="#一、默认配置"><span>一、默认配置</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>global:</span></span>\n<span class="line"><span>  scrape_interval: 15s # 将刮擦间隔设置为每15秒。默认为1分钟一次</span></span>\n<span class="line"><span>  evaluation_interval: 15s # 每15秒评估一次规则。默认为1分钟。</span></span>\n<span class="line"><span>  # Scrape_timeout被设置为全局默认值(10秒)。</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span># 告警配置</span></span>\n<span class="line"><span>alerting:</span></span>\n<span class="line"><span>  alertmanagers:</span></span>\n<span class="line"><span>    - static_configs:</span></span>\n<span class="line"><span>        - targets:</span></span>\n<span class="line"><span>          # - alertmanager:9093</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span># 加载规则一次，并定期根据全局的“evaluation_interval”计算它们</span></span>\n<span class="line"><span>rule_files:</span></span>\n<span class="line"><span>  # - &quot;first_rules.yml&quot;</span></span>\n<span class="line"><span>  # - &quot;second_rules.yml&quot;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span># 一个抓取配置，只包含一个要抓取的端点:这里是Prometheus本身</span></span>\n<span class="line"><span>scrape_configs:</span></span>\n<span class="line"><span>  # 作业名称作为标签&#39; job=&lt;job_name&gt; &#39;添加到从此配置中提取的任何时间序列中</span></span>\n<span class="line"><span>  - job_name: &quot;prometheus&quot;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    # Metrics_path默认为“/metrics”</span></span>\n<span class="line"><span>    # scheme defaults to &#39;http&#39;.</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    static_configs:</span></span>\n<span class="line"><span>      - targets: [&quot;localhost:9090&quot;]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二、配置分类" tabindex="-1"><a class="header-anchor" href="#二、配置分类"><span>二、配置分类</span></a></h3><p>-- 全局配置 global -- 告警配置 alerting -- 规则文件配置 rule_files -- 拉取配置 scrape_configs -- 远程读写配置 remote_read、remote_write</p><h3 id="三、源码配置结构" tabindex="-1"><a class="header-anchor" href="#三、源码配置结构"><span>三、源码配置结构</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// /prometheus/config/config.go</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Config is the top-level configuration for Prometheus&#39;s config files.</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Config</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">\tGlobalConfig</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">   GlobalConfig</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    `yaml:&quot;global&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">\tAlertingConfig</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> AlertingConfig</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `yaml:&quot;alerting,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ...</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="相关资料" tabindex="-1"><a class="header-anchor" href="#相关资料"><span>相关资料</span></a></h3><p><a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/" target="_blank" rel="noopener noreferrer">prometheus.io/docs 官网配置解析</a><a href="https://www.cnblogs.com/wangguishe/p/15598120.html" target="_blank" rel="noopener noreferrer">cnblogs.com Prometheus之配置详解</a></p>',8)]))}]]),p=JSON.parse('{"path":"/posts/prometheus/prometheus%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90.html","title":"prometheus配置解析","lang":"zh-CN","frontmatter":{"title":"prometheus配置解析","index_img":"/images/prometheus_icon.jpeg","tags":["prometheus"],"categories":["prometheus"],"date":"2023-04-08T06:40:12.000Z","sticky":1,"description":"一、默认配置 二、配置分类 -- 全局配置 global -- 告警配置 alerting -- 规则文件配置 rule_files -- 拉取配置 scrape_configs -- 远程读写配置 remote_read、remote_write 三、源码配置结构 相关资料 prometheus.io/docs 官网配置解析 cnblogs.com ...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://weiqiangxu.github.io/posts/prometheus/prometheus%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90.html"}],["meta",{"property":"og:site_name","content":"笔记本"}],["meta",{"property":"og:title","content":"prometheus配置解析"}],["meta",{"property":"og:description","content":"一、默认配置 二、配置分类 -- 全局配置 global -- 告警配置 alerting -- 规则文件配置 rule_files -- 拉取配置 scrape_configs -- 远程读写配置 remote_read、remote_write 三、源码配置结构 相关资料 prometheus.io/docs 官网配置解析 cnblogs.com ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"prometheus"}],["meta",{"property":"article:published_time","content":"2023-04-08T06:40:12.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"prometheus配置解析\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-04-08T06:40:12.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuweiqiang\\",\\"url\\":\\"https://weiqiangxu.github.io\\"}]}"]]},"headers":[{"level":3,"title":"一、默认配置","slug":"一、默认配置","link":"#一、默认配置","children":[]},{"level":3,"title":"二、配置分类","slug":"二、配置分类","link":"#二、配置分类","children":[]},{"level":3,"title":"三、源码配置结构","slug":"三、源码配置结构","link":"#三、源码配置结构","children":[]},{"level":3,"title":"相关资料","slug":"相关资料","link":"#相关资料","children":[]}],"readingTime":{"minutes":0.9,"words":269},"filePathRelative":"posts/prometheus/prometheus配置解析.md","localizedDate":"2023年4月8日","excerpt":"<h3>一、默认配置</h3>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>global:</span></span>\\n<span class=\\"line\\"><span>  scrape_interval: 15s # 将刮擦间隔设置为每15秒。默认为1分钟一次</span></span>\\n<span class=\\"line\\"><span>  evaluation_interval: 15s # 每15秒评估一次规则。默认为1分钟。</span></span>\\n<span class=\\"line\\"><span>  # Scrape_timeout被设置为全局默认值(10秒)。</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 告警配置</span></span>\\n<span class=\\"line\\"><span>alerting:</span></span>\\n<span class=\\"line\\"><span>  alertmanagers:</span></span>\\n<span class=\\"line\\"><span>    - static_configs:</span></span>\\n<span class=\\"line\\"><span>        - targets:</span></span>\\n<span class=\\"line\\"><span>          # - alertmanager:9093</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 加载规则一次，并定期根据全局的“evaluation_interval”计算它们</span></span>\\n<span class=\\"line\\"><span>rule_files:</span></span>\\n<span class=\\"line\\"><span>  # - \\"first_rules.yml\\"</span></span>\\n<span class=\\"line\\"><span>  # - \\"second_rules.yml\\"</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 一个抓取配置，只包含一个要抓取的端点:这里是Prometheus本身</span></span>\\n<span class=\\"line\\"><span>scrape_configs:</span></span>\\n<span class=\\"line\\"><span>  # 作业名称作为标签\' job=&lt;job_name&gt; \'添加到从此配置中提取的任何时间序列中</span></span>\\n<span class=\\"line\\"><span>  - job_name: \\"prometheus\\"</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>    # Metrics_path默认为“/metrics”</span></span>\\n<span class=\\"line\\"><span>    # scheme defaults to \'http\'.</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>    static_configs:</span></span>\\n<span class=\\"line\\"><span>      - targets: [\\"localhost:9090\\"]</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);