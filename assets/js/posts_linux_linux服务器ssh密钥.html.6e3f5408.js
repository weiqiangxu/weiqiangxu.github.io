"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6200],{6262:(s,n)=>{n.A=(s,n)=>{const a=s.__vccOpts||s;for(const[s,i]of n)a[s]=i;return a}},7901:(s,n,a)=>{a.r(n),a.d(n,{comp:()=>l,data:()=>p});var i=a(641);const e={},l=(0,a(6262).A)(e,[["render",function(s,n){return(0,i.uX)(),(0,i.CE)("div",null,n[0]||(n[0]=[(0,i.Fv)('<h1 id="linux服务器ssh密钥" tabindex="-1"><a class="header-anchor" href="#linux服务器ssh密钥"><span>Linux服务器SSH密钥</span></a></h1><h3 id="一、本地机器-创建公钥私钥" tabindex="-1"><a class="header-anchor" href="#一、本地机器-创建公钥私钥"><span>一、本地机器（创建公钥私钥）</span></a></h3><ol><li>进入密钥存储路径</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo mkdir -p ~/.ssh</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>cd ~/.ssh</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span># 输入执行后指定文件名为 my_linux 然后一路回车</span></span>\n<span class="line"><span>ssh-keygen -t rsa</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>生成示例</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.ssh ssh-keygen -t rsa   </span></span>\n<span class="line"><span>Generating public/private rsa key pair.</span></span>\n<span class="line"><span>Enter file in which to save the key (/Users/dofun/.ssh/id_rsa): tencent </span></span>\n<span class="line"><span>Enter passphrase (empty for no passphrase): </span></span>\n<span class="line"><span>Enter same passphrase again: </span></span>\n<span class="line"><span>Your identification has been saved in tencent</span></span>\n<span class="line"><span>Your public key has been saved in tencent.pub</span></span>\n<span class="line"><span>The key fingerprint is:</span></span>\n<span class="line"><span>SHA256:2axXRhYNu9fpMg0O4QxPr7sAAnMVuxRWLUNrfy00 dofun@weiqiangxudeMac-mini.local</span></span>\n<span class="line"><span>The key&#39;s randomart image is:</span></span>\n<span class="line"><span>+---[RSA 3072]----+</span></span>\n<span class="line"><span>|      .++ +.*.   |</span></span>\n<span class="line"><span>|       +.+ _++* =   |</span></span>\n<span class="line"><span>|      ..+ + + o .|</span></span>\n<span class="line"><span>|     B ... o + ..|</span></span>\n<span class="line"><span>|    . + o.. o . .|</span></span>\n<span class="line"><span>|     . ..+       |</span></span>\n<span class="line"><span>|        ...      |</span></span>\n<span class="line"><span>+----[SHA256]-----+</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>➜  .ssh ls -la | grep tencent</span></span>\n<span class="line"><span>-rw-------   1 dofun  staff  2622  1 10 11:36 tencent</span></span>\n<span class="line"><span>-rw-r--r--   1 dofun  staff   586  1 10 11:36 tencent.pub</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>密钥生成后会在当前目录下多出两个文件</span></span>\n<span class="line"><span>tencent (私钥) tencent.pub (公钥)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二、远程服务" tabindex="-1"><a class="header-anchor" href="#二、远程服务"><span>二、远程服务</span></a></h3><ol><li>公钥拷贝到远程服务器</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 登录远程服务器 &amp;&amp; 创建公钥存放路径</span></span>\n<span class="line"><span>mkdir -p /root/.ssh</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span># 创建密钥文件存放公钥</span></span>\n<span class="line"><span>cd /root/.ssh &amp;&amp; touch authorized_keys</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span># 将上面生成的公钥内容粘贴到该文件</span></span>\n<span class="line"><span>vim authorized_keys</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>chmod 700 /root/.ssh</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>chmod 600 /root/.ssh/authorized_keys</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>开启远程服务器可以使用密钥登录</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo vim /etc/ssh/sshd_config</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span># 打开配置</span></span>\n<span class="line"><span>PubkeyAuthentication yes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 重启服务</span></span>\n<span class="line"><span>systemctl restart sshd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三、登录服务器" tabindex="-1"><a class="header-anchor" href="#三、登录服务器"><span>三、登录服务器</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ssh -i ~/.ssh/tencent root@[IP地址]</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>ssh -i ~/.ssh/tencent root@43.156.75.90</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="禁用密码登录-非必需" tabindex="-1"><a class="header-anchor" href="#禁用密码登录-非必需"><span>禁用密码登录 (非必需)</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>PasswordAuthentication no</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="直接密码登录" tabindex="-1"><a class="header-anchor" href="#直接密码登录"><span>直接密码登录</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ssh root@192.168.1.2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',18)]))}]]),p=JSON.parse('{"path":"/posts/linux/linux%E6%9C%8D%E5%8A%A1%E5%99%A8ssh%E5%AF%86%E9%92%A5.html","title":"Linux服务器SSH密钥","lang":"zh-CN","frontmatter":{"description":"Linux服务器SSH密钥 一、本地机器（创建公钥私钥） 进入密钥存储路径 生成示例 二、远程服务 公钥拷贝到远程服务器 开启远程服务器可以使用密钥登录 三、登录服务器 禁用密码登录 (非必需) 直接密码登录","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://weiqiangxu.github.io/posts/linux/linux%E6%9C%8D%E5%8A%A1%E5%99%A8ssh%E5%AF%86%E9%92%A5.html"}],["meta",{"property":"og:site_name","content":"笔记本"}],["meta",{"property":"og:title","content":"Linux服务器SSH密钥"}],["meta",{"property":"og:description","content":"Linux服务器SSH密钥 一、本地机器（创建公钥私钥） 进入密钥存储路径 生成示例 二、远程服务 公钥拷贝到远程服务器 开启远程服务器可以使用密钥登录 三、登录服务器 禁用密码登录 (非必需) 直接密码登录"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Linux服务器SSH密钥\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuweiqiang\\",\\"url\\":\\"https://weiqiangxu.github.io\\"}]}"]]},"headers":[{"level":3,"title":"一、本地机器（创建公钥私钥）","slug":"一、本地机器-创建公钥私钥","link":"#一、本地机器-创建公钥私钥","children":[]},{"level":3,"title":"二、远程服务","slug":"二、远程服务","link":"#二、远程服务","children":[]},{"level":3,"title":"三、登录服务器","slug":"三、登录服务器","link":"#三、登录服务器","children":[]},{"level":3,"title":"禁用密码登录 (非必需)","slug":"禁用密码登录-非必需","link":"#禁用密码登录-非必需","children":[]},{"level":3,"title":"直接密码登录","slug":"直接密码登录","link":"#直接密码登录","children":[]}],"readingTime":{"minutes":1.11,"words":333},"filePathRelative":"posts/linux/linux服务器ssh密钥.md","excerpt":"\\n<h3>一、本地机器（创建公钥私钥）</h3>\\n<ol>\\n<li>进入密钥存储路径</li>\\n</ol>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>sudo mkdir -p ~/.ssh</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>cd ~/.ssh</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 输入执行后指定文件名为 my_linux 然后一路回车</span></span>\\n<span class=\\"line\\"><span>ssh-keygen -t rsa</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);