"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7332],{6262:(e,n)=>{n.A=(e,n)=>{const a=e.__vccOpts||e;for(const[e,t]of n)a[e]=t;return a}},6634:(e,n,a)=>{a.r(n),a.d(n,{comp:()=>r,data:()=>s});var t=a(641);const i={},r=(0,a(6262).A)(i,[["render",function(e,n){return(0,t.uX)(),(0,t.CE)("div",null,n[0]||(n[0]=[(0,t.Fv)('<h1 id="opentracing" tabindex="-1"><a class="header-anchor" href="#opentracing"><span>opentracing</span></a></h1><ol><li>什么是opentracing</li><li>什么是jaeger</li><li>如何实现服务可观测</li></ol><h3 id="启动jaeger" tabindex="-1"><a class="header-anchor" href="#启动jaeger"><span>启动jaeger</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run -d -p 5775:5775/udp -p 16686:16686 jaegertracing/all-in-one:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><a href="http://127.0.0.1:16686/search" target="_blank" rel="noopener noreferrer">http://127.0.0.1:16686/search</a></p><h3 id="如何注入trace到gin" tabindex="-1"><a class="header-anchor" href="#如何注入trace到gin"><span>如何注入trace到Gin</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>1. 在路由中间件StartSpan并且gin.Context.Set将parentSpan.Context往下传递</span></span>\n<span class="line"><span>2. GRPC的client的Dial的时候注入unaryTraceInterceptor（带上全局的tracer）拦截请求的时候start child span</span></span>\n<span class="line"><span>tips: 关于UnaryClientInterceptor的invoke，相当于middlware.next</span></span>\n<span class="line"><span>UnaryInvoker is called by UnaryClientInterceptor to complete RPCs</span></span>\n<span class="line"><span>命令模式关键字</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="相关地址" tabindex="-1"><a class="header-anchor" href="#相关地址"><span>相关地址</span></a></h3><p><a href="https://github.com/yurishkuro/opentracing-tutorial/" target="_blank" rel="noopener noreferrer">github.com/yurishkuro/opentracing-tutorial/</a></p><p>[opentracing.io/docs/getting-started/][https://opentracing.io/docs/getting-started/]</p><p><a href="https://www.jaegertracing.io/" target="_blank" rel="noopener noreferrer">jaegertracing.io/</a></p><p><a href="https://www.cnblogs.com/whuanle/p/14598049.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/whuanle/p/14598049.html</a></p><p><a href="https://www.cnblogs.com/xinliangcoder/p/11604880.html" target="_blank" rel="noopener noreferrer">go-gin-api 路由中间件 - Jaeger 链路追踪</a></p><p><a href="https://github.com/xinliangnote/go-jaeger-demo" target="_blank" rel="noopener noreferrer">github.com/xinliangnote/go-jaeger-demo</a></p>',14)]))}]]),s=JSON.parse('{"path":"/posts/go/%E4%BB%80%E4%B9%88%E6%98%AFopenTracing.html","title":"opentracing","lang":"zh-CN","frontmatter":{"hide":true,"description":"opentracing 什么是opentracing 什么是jaeger 如何实现服务可观测 启动jaeger http://127.0.0.1:16686/search 如何注入trace到Gin 相关地址 github.com/yurishkuro/opentracing-tutorial/ [opentracing.io/docs/getting...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://weiqiangxu.github.io/posts/go/%E4%BB%80%E4%B9%88%E6%98%AFopenTracing.html"}],["meta",{"property":"og:site_name","content":"笔记本"}],["meta",{"property":"og:title","content":"opentracing"}],["meta",{"property":"og:description","content":"opentracing 什么是opentracing 什么是jaeger 如何实现服务可观测 启动jaeger http://127.0.0.1:16686/search 如何注入trace到Gin 相关地址 github.com/yurishkuro/opentracing-tutorial/ [opentracing.io/docs/getting..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"opentracing\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuweiqiang\\",\\"url\\":\\"https://weiqiangxu.github.io\\"}]}"]]},"headers":[{"level":3,"title":"启动jaeger","slug":"启动jaeger","link":"#启动jaeger","children":[]},{"level":3,"title":"如何注入trace到Gin","slug":"如何注入trace到gin","link":"#如何注入trace到gin","children":[]},{"level":3,"title":"相关地址","slug":"相关地址","link":"#相关地址","children":[]}],"readingTime":{"minutes":0.55,"words":165},"filePathRelative":"posts/go/什么是openTracing.md","excerpt":"\\n<ol>\\n<li>什么是opentracing</li>\\n<li>什么是jaeger</li>\\n<li>如何实现服务可观测</li>\\n</ol>\\n<h3>启动jaeger</h3>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>docker run -d -p 5775:5775/udp -p 16686:16686 jaegertracing/all-in-one:latest</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);