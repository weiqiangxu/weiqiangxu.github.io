"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8949],{6262:(s,n)=>{n.A=(s,n)=>{const a=s.__vccOpts||s;for(const[s,e]of n)a[s]=e;return a}},9050:(s,n,a)=>{a.r(n),a.d(n,{comp:()=>l,data:()=>p});var e=a(641);const i={},l=(0,a(6262).A)(i,[["render",function(s,n){return(0,e.uX)(),(0,e.CE)("div",null,n[0]||(n[0]=[(0,e.Fv)('<h1 id="linux-awk" tabindex="-1"><a class="header-anchor" href="#linux-awk"><span>linux awk</span></a></h1><p><a href="https://zhuanlan.zhihu.com/p/419494231" target="_blank" rel="noopener noreferrer">linux三剑客之三（awk）(最强大）</a></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>案例1：把/Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk -F: &#39;/test/&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>案例2：把/Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk -F: &#39;/^test/&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>案例3：/Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt ??</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk -F: &#39;{print $1,$2}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>案例1：输出/Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk -F: &#39;{print NR,$0}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>案例2：要求把第7行之后的内容输出出来，包括行号</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk -F: &#39;NR &gt; 7{print NR,$0}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>案例3：要求输出第3行之后的内容且第5行之前的内容输出出来，包含行号</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk -F: &#39;NR &gt; 3 &amp;&amp; NR &lt; 5{print NR,$0}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>案例5：要求输出倒数第3列 ???</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk -F: &#39;{print $(NF-2)}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>案例6：要求不使用-F参数，以：分割，并输出第1列和第3列</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk &#39;BEGIN{FS=&quot;:&quot;}{print $1,$3}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>案例7: 输出第123列</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk &#39;{print $1,$2,$3}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$0标识每一行</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk -F: &#39;{print $0}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>读入的行被以:为分隔符分解成若干字段打印第2列</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk -F: &#39;{print $2}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>awk &#39;{print $2}&#39; /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>打印 go.mod 文件里面的 module 名称</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>grep &#39;module &#39; go.mod | awk &#39;{print $2}&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>sed 命令实现 cut 命令的效果</li></ol><p><a href="http://c.biancheng.net/linux/sed.html" target="_blank" rel="noopener noreferrer">http://c.biancheng.net/linux/sed.html</a></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>展示前面5行内容，然后分隔符是:，移除:以及后面的内容</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>head -n 5 /Users/xuweiqiang/Documents/code/book/makefile/sed.txt|sed &#39;s/:.*$//&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>展示前面1行内容，然后移除 /user/local 内容</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>head -n 1 /Users/xuweiqiang/Documents/code/book/makefile/sed.txt|sed &#39;s/\\/user\\/local//&#39;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>展示前面1行内容，然后移除 user 内容</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>head -n 1 /Users/xuweiqiang/Documents/code/book/makefile/sed.txt|sed &#39;s/user//&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>获取module name之中的 backend/message-center</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>grep &#39;module &#39; go.mod | awk &#39;{print $2}&#39; | sed &#39;s/code.google.com\\///g</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>module code.google.com/backend/message-center</span></span>\n<span class="line"><span>go 1.17</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>将sed的内容过滤只剩下有module字眼的，然后再获取第二列，然后再删除code.google.com/ (awk默认以空白字符为分割符)</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>grep &#39;module&#39; /Users/xuweiqiang/Documents/code/book/makefile/sed.txt | awk &#39;{print $2}&#39; | sed &#39;s/code.google.com\\///g&#39;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>grep &#39;module&#39; /Users/xuweiqiang/Documents/code/book/makefile/sed.txt | awk &#39;{print $1}&#39; | sed &#39;s/code.google.com\\///g&#39;</span></span>\n<span class="line"><span>```</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',15)]))}]]),p=JSON.parse('{"path":"/posts/makefile/awk%E4%BD%BF%E7%94%A8.html","title":"linux awk","lang":"zh-CN","frontmatter":{"hide":true,"description":"linux awk linux三剑客之三（awk）(最强大） 打印 go.mod 文件里面的 module 名称 sed 命令实现 cut 命令的效果 http://c.biancheng.net/linux/sed.html 获取module name之中的 backend/message-center 将sed的内容过滤只剩下有module字眼的，...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://weiqiangxu.github.io/posts/makefile/awk%E4%BD%BF%E7%94%A8.html"}],["meta",{"property":"og:site_name","content":"QuickStart程序员"}],["meta",{"property":"og:title","content":"linux awk"}],["meta",{"property":"og:description","content":"linux awk linux三剑客之三（awk）(最强大） 打印 go.mod 文件里面的 module 名称 sed 命令实现 cut 命令的效果 http://c.biancheng.net/linux/sed.html 获取module name之中的 backend/message-center 将sed的内容过滤只剩下有module字眼的，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"linux awk\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuweiqiang\\",\\"url\\":\\"https://weiqiangxu.github.io\\"}]}"]]},"headers":[],"readingTime":{"minutes":1.42,"words":427},"filePathRelative":"posts/makefile/awk使用.md","excerpt":"\\n<p><a href=\\"https://zhuanlan.zhihu.com/p/419494231\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">linux三剑客之三（awk）(最强大）</a></p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>案例1：把/Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>awk -F: \'/test/\' /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>案例2：把/Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>awk -F: \'/^test/\' /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>案例3：/Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt ??</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>awk -F: \'{print $1,$2}\' /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>案例1：输出/Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>awk -F: \'{print NR,$0}\' /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>案例2：要求把第7行之后的内容输出出来，包括行号</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>awk -F: \'NR &gt; 7{print NR,$0}\' /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>案例3：要求输出第3行之后的内容且第5行之前的内容输出出来，包含行号</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>awk -F: \'NR &gt; 3 &amp;&amp; NR &lt; 5{print NR,$0}\' /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>案例5：要求输出倒数第3列 ???</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>awk -F: \'{print $(NF-2)}\' /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>案例6：要求不使用-F参数，以：分割，并输出第1列和第3列</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>awk \'BEGIN{FS=\\":\\"}{print $1,$3}\' /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>案例7: 输出第123列</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>awk \'{print $1,$2,$3}\' /Users/xuweiqiang/Documents/code/book/makefile/awk_file.txt</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);