"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1817],{6262:(s,i)=>{i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,n]of i)a[s]=n;return a}},1546:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>l,data:()=>t});var n=a(641);const e={},l=(0,a(6262).A)(e,[["render",function(s,i){return(0,n.uX)(),(0,n.CE)("div",null,i[0]||(i[0]=[(0,n.Fv)('<h3 id="一、什么是dns" tabindex="-1"><a class="header-anchor" href="#一、什么是dns"><span>一、什么是DNS</span></a></h3><ol><li>DNS（Domain Name System）是一个用于将域名转换为与之关联的IP地址的分布式系统。</li></ol><p>在Linux上，有几个与DNS相关的配置：</p><h3 id="二、linux与dns相关命令" tabindex="-1"><a class="header-anchor" href="#二、linux与dns相关命令"><span>二、Linux与DNS相关命令</span></a></h3><ol><li><code>/etc/resolv.conf</code>文件：这个文件包含了DNS服务器的配置信息，如名称服务器的IP地址、搜索域等。</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 未配置DNS Server的</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@i-62BEC048 ~]# cat /etc/resolv.conf</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Generated by NetworkManager</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 已经配置了DNS Server的</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@i-62BEC048 ~]# cat /etc/resolv.conf</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Generated by NetworkManager</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nameserver</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 114.114.114.114</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Ubuntu 下 DNS 解析相关的命令<code>systemd-resolve</code></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1.查看 DNS 服务状态</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemd-resolve</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --status</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 2.解析域名的的 IP</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemd-resolve</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DOMAIN</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 3.nslookup 解析domain</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nslookup</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> baidu.com</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 4.设置网卡的 DNS Server</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemd-resolve</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --set-dns=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">DNS_SERVER_IP}</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --interface</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {ITERFACE_NAME}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 5.重置网卡DNS配置</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemd-resolve</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --revert</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --interface</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {ITERFACE_NAME}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 6.刷新网卡DNS缓存</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemd-resolve</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --flush-caches</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 7.查看DNS相关配置</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemd-resolve</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --statistics</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>hosts文件</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/hosts</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="q-a" tabindex="-1"><a class="header-anchor" href="#q-a"><span>Q&amp;A</span></a></h3><ol><li>nameserver 114.114.114.114是什么来的</li></ol><p>114.114.114.114是中国电信运营商提供的公共的DNS服务器。DNS服务器用于转换域名（如www.google.com）和IP地址之间的对应关系，以便让计算机能够在互联网上进行通信。通过指定114.114.114.114作为DNS服务器，可以使用中国电信的DNS服务来解析域名。</p><ol start="2"><li>server 8.8.8.8</li></ol><p><code>dns-nameservers 8.8.8.8</code>是用来指定DNS服务器的IP地址，其中8.8.8.8是Google提供的公共DNS服务器的IP地址。DNS服务器用于将域名解析为对应的IP地址。</p><p>在Linux上，可以通过设置<code>dns-nameservers</code>来指定所使用的DNS服务器。在上述示例中，<code>dns-nameservers 8.8.8.8</code>表示使用Google的DNS服务器进行域名解析。</p><p>在与<code>nameserver 114.114.114.114</code>的关系上，<code>nameserver 114.114.114.114</code>是指定的另一个DNS服务器的IP地址，由中国电信提供。不同的<code>nameserver</code>配置指定了不同的DNS服务器，用于解析域名。根据需要，可以根据实际情况选择使用不同的DNS服务器进行域名解析。</p>',17)]))}]]),t=JSON.parse('{"path":"/posts/network/DNS%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%9C%89%E5%93%AA%E4%BA%9B.html","title":"DNS","lang":"zh-CN","frontmatter":{"title":"DNS","tags":["network"],"categories":["network"],"description":"一、什么是DNS DNS（Domain Name System）是一个用于将域名转换为与之关联的IP地址的分布式系统。 在Linux上，有几个与DNS相关的配置： 二、Linux与DNS相关命令 /etc/resolv.conf文件：这个文件包含了DNS服务器的配置信息，如名称服务器的IP地址、搜索域等。 Ubuntu 下 DNS 解析相关的命令sys...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://weiqiangxu.github.io/posts/network/DNS%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%9C%89%E5%93%AA%E4%BA%9B.html"}],["meta",{"property":"og:site_name","content":"QuickStart程序员"}],["meta",{"property":"og:title","content":"DNS"}],["meta",{"property":"og:description","content":"一、什么是DNS DNS（Domain Name System）是一个用于将域名转换为与之关联的IP地址的分布式系统。 在Linux上，有几个与DNS相关的配置： 二、Linux与DNS相关命令 /etc/resolv.conf文件：这个文件包含了DNS服务器的配置信息，如名称服务器的IP地址、搜索域等。 Ubuntu 下 DNS 解析相关的命令sys..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"network"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"DNS\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuweiqiang\\",\\"url\\":\\"https://weiqiangxu.github.io\\"}]}"]]},"headers":[{"level":3,"title":"一、什么是DNS","slug":"一、什么是dns","link":"#一、什么是dns","children":[]},{"level":3,"title":"二、Linux与DNS相关命令","slug":"二、linux与dns相关命令","link":"#二、linux与dns相关命令","children":[]},{"level":3,"title":"Q&A","slug":"q-a","link":"#q-a","children":[]}],"readingTime":{"minutes":1.7,"words":509},"filePathRelative":"posts/network/DNS服务配置有哪些.md","excerpt":"<h3>一、什么是DNS</h3>\\n<ol>\\n<li>DNS（Domain Name System）是一个用于将域名转换为与之关联的IP地址的分布式系统。</li>\\n</ol>\\n<p>在Linux上，有几个与DNS相关的配置：</p>\\n<h3>二、Linux与DNS相关命令</h3>\\n<ol>\\n<li><code>/etc/resolv.conf</code>文件：这个文件包含了DNS服务器的配置信息，如名称服务器的IP地址、搜索域等。</li>\\n</ol>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 未配置DNS Server的</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">[root@i-62BEC048 ~]# cat /etc/resolv.conf</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># Generated by NetworkManager</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 已经配置了DNS Server的</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">[root@i-62BEC048 ~]# cat /etc/resolv.conf</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># Generated by NetworkManager</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">nameserver</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 114.114.114.114</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);